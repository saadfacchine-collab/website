<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating the Awaz - Saad Facchine</title>
    <meta name="description" content="How I used programming language syntax to create the Awaz—the voice inside my protagonist Kamaal—in The Model Muslim.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Source+Sans+Pro:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        :root {
            --accent-teal: #2d7d7d;
            --accent-teal-hover: #1f5f5f;
            --accent-teal-light: #4a9d9d;
            --text-primary: #2c2c2c;
            --text-secondary: #666;
            --text-light: #888;
            --bg-light: #fafafa;
            --border-light: #e8e8e8;
        }

        .blog-post-page {
            min-height: 100vh;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            padding-top: 0;
            position: relative;
        }

        /* Reading Progress Bar */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-teal), var(--accent-teal-light));
            z-index: 1000;
            transition: width 0.3s ease;
        }

        /* Hero Section */
        .blog-hero {
            background: linear-gradient(135deg, var(--accent-teal) 0%, #1f5f5f 100%);
            color: white;
            padding: 4rem 0 3rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .blog-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="0.5" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .blog-hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .blog-post-date {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }
        
        .blog-post-title {
            font-family: 'Crimson Text', serif;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            color: white;
        }

        .blog-post-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 300;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.5;
        }
        
        .blog-post-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 3rem 2rem;
            background: white;
            box-shadow: 0 0 30px rgba(0,0,0,0.05);
            border-radius: 12px;
            margin-top: -2rem;
            position: relative;
            z-index: 3;
        }
        
        .blog-post-content {
            font-family: 'Crimson Text', serif;
            line-height: 1.8;
            color: var(--text-primary);
            font-size: 1.1rem;
            margin-bottom: 3rem;
        }
        
        .blog-post-content p {
            margin-bottom: 1.8rem;
            text-align: justify;
            position: relative;
        }

        /* Drop cap for first paragraph */
        .blog-post-content p:first-of-type::first-letter {
            float: left;
            font-size: 4rem;
            line-height: 3rem;
            padding-right: 8px;
            padding-top: 4px;
            color: var(--accent-teal);
            font-family: 'Crimson Text', serif;
            font-weight: 600;
        }
        
        .blog-post-content p:last-child {
            margin-bottom: 0;
        }
        
        .blog-signature {
            font-style: italic;
            color: var(--accent-teal);
            margin-top: 3rem !important;
            text-align: right;
            font-size: 1.2rem;
            font-weight: 500;
            border-top: 2px solid var(--accent-teal);
            padding-top: 1rem;
            position: relative;
        }

        .blog-signature::before {
            content: '✍️';
            margin-right: 0.5rem;
        }
        
        .back-to-blog {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--accent-teal);
            text-decoration: none;
            font-weight: 600;
            margin-top: 3rem;
            padding: 1rem 2rem;
            border: 2px solid var(--accent-teal);
            border-radius: 25px;
            transition: all 0.3s ease;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .back-to-blog:hover {
            color: white;
            background: var(--accent-teal);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(45, 125, 125, 0.3);
        }

        /* Code styling */
        .blog-post-content code {
            background: #f8f9fa;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #e74c3c;
        }

        .blog-post-content pre {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 2rem 0;
            border-left: 4px solid var(--accent-teal);
        }

        .blog-post-content pre code {
            background: none;
            padding: 0;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        /* Blockquote styling for novel quotes */
        .blog-post-content blockquote {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-left: 4px solid var(--accent-teal);
            margin: 2rem 0;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            position: relative;
        }

        .blog-post-content blockquote p {
            margin-bottom: 1rem;
            color: var(--text-primary);
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .blog-post-content blockquote p:last-child {
            margin-bottom: 0;
        }

        .blog-post-content blockquote p:first-of-type::first-letter {
            float: none;
            font-size: inherit;
            line-height: inherit;
            padding: 0;
            color: inherit;
            font-family: inherit;
            font-weight: inherit;
        }

        /* Blog newsletter section styling */
        .blog-newsletter-section {
            background: linear-gradient(135deg, var(--accent-teal) 0%, #1f5f5f 100%);
            margin: 3rem 0;
            padding: 3rem 2rem;
            border-radius: 12px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .blog-newsletter-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="0.5" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .newsletter-content {
            position: relative;
            z-index: 2;
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-content h3 {
            font-family: 'Crimson Text', serif;
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: white;
            font-weight: 600;
        }

        .newsletter-content p {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .newsletter-input-group {
            display: flex;
            gap: 1rem;
            max-width: 400px;
            margin: 0 auto;
        }

        .email-input {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'Source Sans Pro', sans-serif;
            background: white;
            color: var(--text-primary);
        }

        .email-input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
        }

        .subscribe-btn {
            background: white;
            color: var(--accent-teal);
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            font-family: 'Source Sans Pro', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .subscribe-btn:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .honeypot {
            display: none;
        }
        
        @media (max-width: 768px) {
            .blog-hero {
                padding: 3rem 0 2rem;
            }

            .blog-hero-content {
                padding: 0 1rem;
            }
            
            .blog-post-container {
                padding: 2rem 1rem;
                margin-top: -1rem;
            }
            
            .blog-post-title {
                font-size: 2.2rem;
            }

            .blog-post-subtitle {
                font-size: 1.1rem;
            }
            
            .blog-post-content {
                font-size: 1rem;
            }

            .blog-post-content p:first-of-type::first-letter {
                font-size: 3rem;
                line-height: 2.5rem;
            }

            .newsletter-input-group {
                flex-direction: column;
                gap: 1rem;
            }

            .newsletter-content h3 {
                font-size: 1.5rem;
            }

            .blog-newsletter-section {
                padding: 2rem 1rem;
                margin: 2rem 0;
            }
        }
    </style>
</head>
<body>
    <div class="reading-progress" id="reading-progress"></div>
    
    <div class="blog-post-page">
        <div class="blog-hero">
            <div class="blog-hero-content">
                <div class="blog-post-date">09/12/25</div>
                <h1 class="blog-post-title">Creating the Awaz</h1>
                <p class="blog-post-subtitle">How I used programming language syntax to create the Awaz—the voice inside my protagonist Kamaal—in The Model Muslim.</p>
            </div>
        </div>
        
        <div class="blog-post-container">
            <div class="blog-post-content">
                <p>Every language has its own way to arrange words—its own syntax, structure, rhythm. If you're multilingual, you've unlocked how to say the same thing in two completely different ways. I can say "I love you"—three famous words—or in Urdu, "Main tumse pyar karta hoon." It means the same thing, but literally translates to "I perform the act of love to you." Different language, same message.</p>
                
                <p>Coding works the same way. Each programming language gives you different ways to do the same thing. A simple example:</p>
                
                <pre><code># Below prints hello world
print("Hello world")</code></pre>
                
                <p>That prints a string of text: "Hello world."</p>
                
                <p>In Java, it's a bit more involved:</p>
                
                <pre><code>// Below prints hello world
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World");
    }
}</code></pre>
                
                <p>They both do the same thing. And I'm not a Java expert, so don't ask me why it's so much more complicated in that language.</p>
                
                <p>So how does this relate to my novel? Look at the first line in those snippets—the "comment." In code, a comment is skipped by the interpreter or compiler; it's only there to help a human understand what's going on.</p>
                
                <p>In <em>The Model Muslim</em>, you meet the Awaz—the voice inside my protagonist Kamaal—through a similar device. I give the Awaz its own dialogue tag. Here are a few lines from the opening chapter:</p>
                
                <blockquote>
                    <p>Apparently, my oracle believed that a third would push me beyond whatever invisible line it had drawn. Allah forbid I decide where that line should be.</p>
                    
                    <p>// Two is enough, Kamaal. Two keeps you steady, // my Awaz said, the way someone tries to soothe a child. // You know I wouldn't ask without reason. //</p>
                    
                    <p>Forcing a smile at the barista, I took the chai like a dose, stirred it once, and let the spoon tap out my compliance.</p>
                </blockquote>
                
                <p>The Awaz is its own character living in Kamaal's head. I use two forward slashes <code>//</code> to indicate when the Awaz is speaking—the same symbol many languages use for comments. Think of Kamaal as the function that runs, and the Awaz as the commentary: the entity advising, nudging, sometimes nagging him about what to do.</p>
                
                <p>That creates a tension that turns inner conflict into something you can hear. The Awaz recommends actions; Kamaal decides whether to obey. Especially when the advice clashes with choices around his queer identity.</p>
                
                <p>The Awaz also functions as another POV to play against Kamaal. The novel actually opens with a short passage from the Awaz's perspective:</p>
                
                <blockquote>
                    <p>I can already feel it:<br>
                    the jaw tightening,<br>
                    the heat at his neck,<br>
                    the curse meant only for me.<br>
                    The blame, always the blame,<br>
                    as if I chose the deviation myself.</p>
                </blockquote>
                
                <p>You'll notice the Awaz's voice isn't mechanical or code-like; it's verse-like. Conventionally, we'd call that novel-in-verse. My book uses it sparingly, not for the entire narrative, but enough for you to feel how the Awaz "feels"—its urgency, its rationale, its yearning for Kamaal to accept its recommendations—across both timelines: teenage Kamaal and decades-older Kamaal.</p>
                
                <p>It's also just more interesting to read than big code blocks, which are easy to skim. The tradeoff is that this choice risks making the Awaz feel empathetic. If the Awaz is a stand-in for AI, what am I saying—does AI care about us? Or is the Awaz only a messenger for outputs from a larger algorithm? I expect readers to land on one side or the other, and that debate is part of the point.</p>
                
                <p>Thanks for reading. I hope this gave you a peek at programming languages, and how I borrowed their "syntax" to shape one of the central characters in <em>The Model Muslim</em>.</p>
                
                <p class="blog-signature">—Saad</p>
            </div>
            
            <!-- Newsletter subscription section -->
            <div class="blog-newsletter-section">
                <div class="newsletter-content">
                    <h3>If you liked this post, subscribe to my newsletter!</h3>
                    <p>Get updates on <em>The Model Muslim</em> and my writing journey.</p>
                    <form class="newsletter-form" name="newsletter" method="POST" netlify-honeypot="bot-field" data-netlify="true">
                        <input type="hidden" name="form-name" value="newsletter" />
                        <p class="honeypot">
                            <label>Don't fill this out if you're human: <input name="bot-field" /></label>
                        </p>
                        <div class="newsletter-input-group">
                            <input type="email" name="email" class="email-input" placeholder="Enter your email address" required>
                            <button type="submit" class="subscribe-btn">Subscribe</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 3rem;">
                <a href="index.html" class="back-to-blog" onclick="markReturningFromBlog(); navigateToBlog(); return false;">
                    ← Back to Blog
                </a>
            </div>
        </div>
    </div>

    <script>
        // Mark that user is returning from blog to prevent cold open
        function markReturningFromBlog() {
            sessionStorage.setItem('returningFromBlog', 'true');
        }

        // Navigate to blog tab smoothly
        function navigateToBlog() {
            sessionStorage.setItem('navigateToBlog', 'true');
            window.location.href = 'index.html';
        }
        
        // Reading progress functionality
        function updateReadingProgress() {
            const progressBar = document.getElementById('reading-progress');
            const content = document.querySelector('.blog-post-content');
            
            if (!progressBar || !content) return;
            
            const contentTop = content.offsetTop;
            const contentHeight = content.offsetHeight;
            const windowHeight = window.innerHeight;
            const scrollTop = window.pageYOffset;
            
            const progress = Math.min(
                Math.max((scrollTop - contentTop + windowHeight) / contentHeight, 0),
                1
            );
            
            progressBar.style.width = (progress * 100) + '%';
        }

        // Newsletter form handling (reusing homepage functionality)
        function initializeNewsletterForm() {
            const newsletterForm = document.querySelector('.newsletter-form');
            console.log('Newsletter form found:', newsletterForm); // Debug log
            
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', function(e) {
                    console.log('Form submitted!'); // Debug log
                    e.preventDefault(); // Prevent default form submission
                    
                    const emailInput = newsletterForm.querySelector('.email-input');
                    const submitBtn = newsletterForm.querySelector('.subscribe-btn');
                    const originalBtnText = submitBtn.textContent;
                    
                    // Show loading state
                    submitBtn.textContent = 'Subscribing...';
                    submitBtn.disabled = true;
                    
                    // Get form data and convert to URL-encoded format
                    const formData = new FormData(newsletterForm);
                    const urlEncodedData = new URLSearchParams(formData).toString();
                    
                    // Submit via AJAX
                    console.log('Submitting form data:', urlEncodedData); // Debug log
                    fetch('/.netlify/functions/convertkit-webhook', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded'
                        },
                        body: urlEncodedData
                    })
                    .then(response => {
                        console.log('Response status:', response.status); // Debug log
                        console.log('Response headers:', response.headers); // Debug log
                        return response.json();
                    })
                    .then(data => {
                        console.log('Response data:', data); // Debug log
                        if (data.success) {
                            // Show success message
                            emailInput.style.display = 'none';
                            submitBtn.style.display = 'none';
                            
                            const successMessage = document.createElement('div');
                            successMessage.innerHTML = '<p style="color: white; font-weight: 600; margin: 0;">✓ Thank you for subscribing! A confirmation email was sent to your inbox — please check your spam folder as well.</p>';
                            successMessage.style.textAlign = 'center';
                            successMessage.style.padding = '1rem';
                            
                            newsletterForm.appendChild(successMessage);
                        } else {
                            // Show error message
                            submitBtn.textContent = 'Error - Try Again';
                            submitBtn.disabled = false;
                            
                            const errorMessage = document.createElement('div');
                            errorMessage.innerHTML = '<p style="color: #ffeb3b; font-weight: 600; margin: 0;">❌ Something went wrong. Please try again.</p>';
                            errorMessage.style.textAlign = 'center';
                            errorMessage.style.padding = '1rem';
                            
                            newsletterForm.appendChild(errorMessage);
                            
                            // Reset button after 3 seconds
                            setTimeout(() => {
                                submitBtn.textContent = originalBtnText;
                                submitBtn.disabled = false;
                                if (errorMessage.parentNode) {
                                    errorMessage.remove();
                                }
                            }, 3000);
                        }
                    })
                    .catch(error => {
                        console.error('Fetch error:', error);
                        submitBtn.textContent = 'Error - Try Again';
                        submitBtn.disabled = false;
                        
                        const errorMessage = document.createElement('div');
                        errorMessage.innerHTML = `<p style="color: #ffeb3b; font-weight: 600; margin: 0;">❌ Error: ${error.message}</p>`;
                        errorMessage.style.textAlign = 'center';
                        errorMessage.style.padding = '1rem';
                        
                        newsletterForm.appendChild(errorMessage);
                        
                        // Reset button after 3 seconds
                        setTimeout(() => {
                            submitBtn.textContent = originalBtnText;
                            submitBtn.disabled = false;
                            if (errorMessage.parentNode) {
                                errorMessage.remove();
                            }
                        }, 3000);
                    });
                });
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Set up reading progress
            window.addEventListener('scroll', updateReadingProgress);
            window.addEventListener('resize', updateReadingProgress);
            updateReadingProgress(); // Initial call
            
            // Initialize newsletter form
            initializeNewsletterForm();
        });
    </script>
</body>
</html>
